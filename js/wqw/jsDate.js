// 纯JS年月日三级联动

var dateInit = function(_cmbYear, _cmbMonth, _cmbDay, defaultYear, defaultMonth, defaultDay)
{
	var cmbYear = document.getElementById(_cmbYear);
	var cmbMonth = document.getElementById(_cmbMonth);
	var cmbDay = document.getElementById(_cmbDay);

	function cmbSelect(cmb, str)
	{
		for(var i=0; i<cmb.options.length; i++)
		{
			if(cmb.options[i].value == str)
			{
				cmb.selectedIndex = i;
				return;
			}
		}
	}
	
	function cmbAddOption(cmb, str, obj)
	{
		var option = document.createElement("OPTION");
		cmb.options.add(option);
		option.innerHTML = str;
		option.value = str;
		option.obj = obj;
	}
	
	function changeYear()
	{
		cmbMonth.options.length = 0;
		cmbMonth.onchange = null;
		if(cmbYear.selectedIndex == -1)return;
		var item = cmbYear.options[cmbYear.selectedIndex].obj;
		for(var i=0; i<item.monthList.length; i++)
		{
			cmbAddOption(cmbMonth, item.monthList[i].name, item.monthList[i]);
		}
		cmbSelect(cmbMonth, defaultMonth);
		changeMonth();
		cmbMonth.onchange = changeMonth;
	}
	
	function changeMonth()
	{
		cmbDay.options.length = 0;
		if(cmbMonth.selectedIndex == -1)return;
		var item = cmbMonth.options[cmbMonth.selectedIndex].obj;
		for(var i=0; i<item.monthList.length; i++)
		{
			cmbAddOption(cmbDay, item.monthList[i], null);
		}
		cmbSelect(cmbDay, defaultDay);
	}

	for(var i=0; i<yearList.length; i++)
	{
		cmbAddOption(cmbYear, yearList[i].name, yearList[i]);
	}
	cmbSelect(cmbYear, defaultYear);
	changeYear();
	cmbYear.onchange = changeYear;
};

var yearList = [
	{name:'2016', monthList:[
	    {name:'--月份--', monthList:['--日期--']},
	    {name:'1月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'2月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29']},
	    {name:'3月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'4月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'5月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'6月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'7月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'8月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'9月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'10月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'11月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'12月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']}
	]},
	{name:'2015', monthList:[
	    {name:'--月份--', monthList:['--日期--']},
	    {name:'1月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'2月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28']},
	    {name:'3月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'4月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'5月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'6月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'7月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'8月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'9月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'10月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'11月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'12月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']}
	]},
	{name:'2014', monthList:[
	    {name:'--月份--', monthList:['--日期--']},
	    {name:'1月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'2月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28']},
	    {name:'3月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'4月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'5月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'6月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'7月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'8月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'9月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'10月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'11月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'12月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']}
	]},
	{name:'2013', monthList:[
	    {name:'--月份--', monthList:['--日期--']},
	    {name:'1月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'2月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28']},
	    {name:'3月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'4月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'5月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'6月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'7月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'8月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'9月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'10月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'11月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'12月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']}
	]},
	{name:'2012', monthList:[
	    {name:'--月份--', monthList:['--日期--']},
	    {name:'1月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'2月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29']},
	    {name:'3月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'4月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'5月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'6月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'7月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'8月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'9月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'10月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']},
	    {name:'11月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30']},
	    {name:'12月', monthList:['--日期--','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31']}
	]}
];
